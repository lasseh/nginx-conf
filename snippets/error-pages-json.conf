# =============================================================================
# JSON ERROR PAGES CONFIGURATION
# =============================================================================
# JSON error responses served from html/errors/*.json
# Include this snippet in API server blocks
#
# Usage: include snippets/error-pages-json.conf;
#
# For HTML error pages (user-facing sites), use:
#   include snippets/error-pages.conf;

# Error page directives
error_page 404 /404.json;
error_page 429 /429.json;
error_page 500 /500.json;
error_page 502 /502.json;
error_page 503 /503.json;
error_page 504 /504.json;

# Serve JSON error pages from html/errors directory
location = /404.json {
    root /etc/nginx/html/errors;
    internal;
    default_type application/json;
}

location = /429.json {
    root /etc/nginx/html/errors;
    internal;
    default_type application/json;
}

location = /500.json {
    root /etc/nginx/html/errors;
    internal;
    default_type application/json;
}

location = /502.json {
    root /etc/nginx/html/errors;
    internal;
    default_type application/json;
}

location = /503.json {
    root /etc/nginx/html/errors;
    internal;
    default_type application/json;
}

location = /504.json {
    root /etc/nginx/html/errors;
    internal;
    default_type application/json;
}
